<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generate Student Reports</title>
    <link rel="stylesheet" href="generateStudentReports.css">
</head>
<body>
    <nav class="topnav">
    <div class="brand">DIMMS-HOD Panel</div>
    <div class="nav-actions">
        <a class="btn ghost small" href="/addBranchesAndSubjects.html">Branches & Subjects</a>
        <a class="btn ghost small" href="/viewFacultyRequests.html">Faculty Requests</a>
        <a class="btn ghost small" href="/enterStudentDetails.html">Student Details</a>
        <a class="btn ghost small" href="/addAndChangeExams.html">Exams</a>
        <a class="btn ghost small" href="/generateStudentReports.html">Reports</a>
        <a class="btn ghost small" href="/viewMarksUpdateRequests.html">Marks Updates</a>
        <a class="btn ghost small" href="/generateCharts.html">Performance Charts</a>
        <a class="btn ghost small" href="/studentsDataAndPwd.html">Students Data & Password</a>
    </div>
    <div class="nav-right">
        <button id="logoutBtn" class="logout-btn">Logout</button>
    </div>
    </nav>
    <div class="report-container">
        <h2>HOD - Generate Student Reports</h2>
        <p id="uiMessage" class="ui-message hidden"></p>
        <div class="form-row">
            <div class="form-group">
                <label for="year">Select Year:</label>
                <select id="year">
                    <option value="">--Select Year--</option>
                </select>
            </div>
            <div class="form-group">
                <label for="branch">Select Section:</label>
                <select id="branch" disabled>
                    <option value="">--Select Section--</option>
                </select>
            </div>
            <div class="form-group">
                <label for="subject">Select Subject:</label>
                <select id="subject" disabled>
                    <option value="">--Select Subject--</option>
                </select>
            </div>
            <div class="form-group">
                <label for="exam">Select Exam:</label>
                <select id="exam" disabled>
                    <option value="">--Select Exam--</option>
                </select>
            </div>
        </div>
        <div class="form-row">
            <button id="fetchReports" disabled>Fetch Student Reports</button>
        </div>
        <div class="form-row" style="margin-top: 10px;">
            <div class="form-group">
                <label for="filterType">Filter Criteria:</label>
                <select id="filterType">
                    <option value="">--Select Criteria--</option>
                    <option value="less">Below Cutoff</option>
                    <option value="greater">Above Cutoff</option>
                    <option value="equal">Exact Score</option>
                </select>
            </div>

            <div class="form-group">
                <label for="filterMarks">Marks:</label>
                <input type="number" id="filterMarks" placeholder="Enter marks">
            </div>

            <div class="form-group" style="align-self:flex-end;">
                <button id="applyFilter">Refine Report</button>
            </div>
        </div>

        <p id="noDataMessage" style="display:none; color:#dc2626; font-weight:600; margin-top:15px;">
            No student records found.
        </p>


        <table id="studentTable" style="display: none;">
            <thead>
                <tr>
                    <th>HTNO</th>
                    <th>Name</th>
                    <th>Marks</th>
                </tr>
            </thead>
            <tbody id="studentBody"></tbody>
        </table>
        <div style="text-align: center; margin-top: 20px;">
            <button id="printReport">Print Report</button>
        </div>
    </div>
    <script src="/hodAuthentication.js"></script>
    <script src="generateStudentReports.js"></script>
</body>
</html>
