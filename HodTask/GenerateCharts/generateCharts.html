<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Student Marks Chart</title>
  <link rel="stylesheet" href="generateCharts.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <nav class="topnav">
    <div class="brand">SIMS-HOD Panel</div>
    <div class="nav-actions">
        <a class="btn ghost small" href="/addBranchesAndSubjects.html">Branches & Subjects</a>
        <a class="btn ghost small" href="/viewFacultyRequests.html">Faculty Requests</a>
        <a class="btn ghost small" href="/enterStudentDetails.html">Student Details</a>
        <a class="btn ghost small" href="/addAndChangeExams.html">Exams</a>
        <a class="btn ghost small" href="/generateStudentReports.html">Reports</a>
        <a class="btn ghost small" href="/viewMarksUpdateRequests.html">Marks Updates</a>
        <a class="btn ghost small" href="/generateCharts.html">Performance Charts</a>
        <a class="btn ghost small" href="/studentsDataAndPwd.html">Students Data & Password</a>
    </div>
    <div class="nav-right">
        <button id="logoutBtn" class="logout-btn">Logout</button>
    </div>
    </nav>
  <div class="container">
    <h2>Student Marks Visualization</h2>
    <div class="controls">
      <label for="year">Year:</label>
      <select id="year">
        <option value="">Select Year</option>
      </select>
      <label for="branch">Section:</label>
      <select id="branch">
        <option value="">Select Section</option>
      </select>
    </div>
    <div class="button-group">
      <button onclick="loadSubjectExamAnalysis()">Subject Exam Analysis</button>
      <button onclick="showStudentPerformanceControls()">Show Student Performance</button>
      <button onclick="loadComparativeInsightChart()">Comparative Insights</button>
      <button onclick="loadPotentialFailedStudents()">
        Potential Failed Students
      </button>
    </div>
    <!-- Comparative Insights Config -->
    <div id="comparativeConfig" style="display:none; margin-top:20px;"></div>

    <div style="text-align:center; margin-top:15px;">
      <button id="generateComparativeBtn" style="display:none;">
        Generate Comparative Analysis
      </button>
    </div>


    <!-- âœ… Moved subject dropdown here (below buttons) -->
    <div id="subjectWrapper" class="controls" style="display: none; margin-top: 10px;">
      <label for="subject">Choose Subject:</label>
      <select id="subject">
        <option value="">Select Subject</option>
      </select>
    </div>
    <div id="performanceConfig" style="display:none; margin-top:20px;"></div>
    <div style="text-align:center; margin-top:15px;">
      <button id="generateAnalysisBtn" style="display:none;">
        Generate Performance Analysis
      </button>
    </div>


    <div id="studentPerformanceControls" class="controls" style="display: none;">
      <label for="studentHtno">Select Student:</label>
      <select id="studentHtno"></select>
      <button onclick="loadStudentPerformanceChart()">Load Student Performance</button>
    </div>

    <div id="chartsContainer"></div>
  </div>
  <script src="/hodAuthentication.js"></script>
  <script src="generateCharts.js"></script>
</body>
</html>
